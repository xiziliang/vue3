<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    //使用 Object.defineProperty 随机值 做私有变量
    const _foo = `_${Math.random().toString(36).slice(2, 10)}`;
    //Object.defineProperty 会直接在一个对象上定义一个新属性，或者修改一个对象的现有属性，并返回此对象
    class Foo {
        constructor() {
            Object.defineProperty(this, _foo, {
                value: 10,
                enumerable: false, // 是否可以在 for...in 循环和 Object.keys() 中被枚举。
                writable: false, // 不可写
                configurable: true, // 对象的属性是否可以被删除
            })
        }
        bar() {
            console.log(`Private foo is ${this[_foo]}`);
        }
    }
    const foo = new Foo();
    foo.bar(); //Private foo is 10

    //使用 Symbol 做私有变量
    // es6 属性名表达式
    const _foo2 = Symbol('foo');
    class Foo2 {
        constructor() {
                this.p = 2;
            }
            [_foo2]() {
                return 10 * this.p;
            }
        bar() {
            console.log(`Private foo is ${this[_foo2]()}`);
        }
    }

    const foo2 = new Foo2();
    foo2.bar(); //Private foo is 20
</script>

</html>